{"version":3,"sources":["models/decorator.ts"],"names":["ApiGenerator","ApiGenerator.constructor","entity","Furnitures","Furnitures.constructor","Cutleries","Cutleries.constructor","Birds","Birds.constructor","Animals","Animals.constructor"],"mappings":"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","file":"models/decorator.js","sourcesContent":["import * as Express from \"express\";\r\nimport * as Mongoose from \"mongoose\";\r\n\r\nvar schema = Mongoose.Schema;\r\n\r\nclass ApiGenerator{\r\n  static init = function(app : Express.Application){\r\n    function entity<TFunction extends Function>(...names:Array<string>): TFunction {\r\n      let newConstructor = function () {\r\n      };\r\n\r\n      var objSchema = new schema({},{strict:false});\r\n      var Obj = Mongoose.model<Mongoose.Document>(names[0],objSchema);\r\n      app.get(\"/\"+names[0]+\"/all\", function(req : Express.Request, res : Express.Response){\r\n        console.log(\"Request Recieved\");\r\n        Obj.find({}, (err,docs)=>{\r\n          if(err){\r\n            res.status(500).send(\"Internal Server Error\");\r\n          }\r\n          else{\r\n            res.set(\"Content-Type\", \"application/json\");\r\n            res.status(200).send(docs);\r\n          }\r\n        });\r\n      });\r\n\r\n      app.post(\"/\"+names[0]+\"/add\", function(req : Express.Request, res : Express.Response){\r\n        var o = req.body;\r\n        Obj.create(o, (err,d)=>{\r\n          if(err){\r\n            console.log(\"Error Occurred\");\r\n            console.log(err);\r\n            console.log(\"----------------------------------------------------------\");\r\n            res.status(500).send(\"Internal Server Error\");\r\n          }\r\n          else{\r\n            res.status(200).send(\"\");\r\n          }\r\n        });\r\n      });\r\n\r\n      return <any> newConstructor;\r\n    }\r\n\r\n  @entity(\"furnitures\")\r\n  class Furnitures{\r\n  }\r\n\r\n  @entity(\"cutlery\")\r\n  class Cutleries{\r\n  }\r\n\r\n  @entity(\"birds\")\r\n  class Birds{\r\n  }\r\n\r\n  @entity(\"animals\")\r\n  class Animals{\r\n  }\r\n\r\n  }\r\n}\r\nexport = ApiGenerator;\r\n"],"sourceRoot":"/source/"}